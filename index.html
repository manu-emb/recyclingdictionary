<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Home</title>
    <link rel="stylesheet" href="./homepage.css">
    <link rel="manifest" href="manifest.json"/>
</head>
<body onload="loadSearchData()">
    <div class="container" onKeyPress="return checksubmit(event)">
        <p id="logo"><b><span style="color:rgb(95, 93, 93);">Recycling</span><span style="color:rgb(99, 101, 246);">Dictionary</span></b>&nbsp;<span style="font-size: 12px; color:rgb(95, 93, 93);">Winnipeg</span></p> 
        <form action="./search.html">
            <!--search box-->
            <input id="textBox" type="text" name="q" autocomplete="off" onkeyup="search(true)" onclick="
            if (innerWidth / innerHeight <= 0.99){
                document.getElementById('textBox').blur()
            }">
        </form>
        <div id="list" class="home"></div>
        <button id="linkToGames" class="header-button" onclick="window.location.href = 'games.html'">Games</button>
        <button id="a2hs" class="header-button">Install</button>
        <script src="./homepage.js"> </script>
    </div>
    <script>
        //check for service worker support
        if ('serviceWorker' in navigator){
            navigator.serviceWorker.register('/recyclingdictionary/sw.js')
        }
        //hide logo on textbox focus
        const textbox = document.getElementById('textBox');
        const logo = document.getElementById('logo');
        const games = document.getElementById('linkToGames');
        
        console.log(innerWidth / innerHeight)
            document.addEventListener('click', function(event) {
                // Check if the target element is the search box or the list items
                let isClickOnTextbox = event.target == document.getElementById("textBox") 
                let isClickOnListItems = document.getElementById("list").contains(event.target);
                if (isClickOnTextbox && innerWidth / innerHeight <= 0.99) {
                    logo.style.display = "none"; 
                    games.style.display = "none";
                    textbox.focus(); 
                } else if (!isClickOnTextbox && !isClickOnListItems){
                    logo.style.display = "block"; 
                    games.style.display = "block"; 
                }
            });
    </script>
</body>
</html>
